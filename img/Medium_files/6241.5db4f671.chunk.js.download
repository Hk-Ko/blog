(self.webpackChunklite=self.webpackChunklite||[]).push([[6241],{76730:(e,n,i)=>{"use strict";i.d(n,{K:()=>m});var t=i(67154),a=i.n(t),l=i(67294),d=i(93310),o=i(87691),m=function(e){return l.createElement(o.F,{scale:"M"},l.createElement(d.r,a()({},e,{linkStyle:"OBVIOUS"})))}},9419:(e,n,i)=>{"use strict";i.d(n,{B:()=>u,S:()=>k});var t=i(319),a=i.n(t),l=i(27048),d=i(68216),o=[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityPresentationRankedModulePublishingTracker_entity"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RankedModulePublishingEntity"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}],m=i(84683),c=i(19308),k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityFollowList_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"algoliaObjectId"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"bio"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EntityPresentationRankedModulePublishingTracker_entity"}}]}}].concat(a()(l.W.definitions),a()(d.$m.definitions),a()(o))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityFollowList_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"algoliaObjectId"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EntityPresentationRankedModulePublishingTracker_entity"}}]}}].concat(a()(m.d.definitions),a()(c.I.definitions),a()(o))}},84683:(e,n,i)=>{"use strict";i.d(n,{d:()=>d});var t=i(319),a=i.n(t),l=i(68216),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionAvatar_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat(a()(l.nf.definitions))}},19308:(e,n,i)=>{"use strict";i.d(n,{b:()=>o,I:()=>m});var t=i(319),a=i.n(t),l=i(68216),d=i(98007),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_collection"}}]}}].concat(a()(l.nf.definitions),a()(d.Os.definitions))}},82405:(e,n,i)=>{"use strict";i.d(n,{F:()=>C});var t=i(63038),a=i.n(t),l=i(21919),d=i(67294),o=i(5977),m=i(77520),c=i(20297),k=i(25550),u=i(25267),s=i(67701),r=i(26350),v=i(50563),N=i(93310),S=i(77355),F=i(47230),p=i(18627),f=i(66411),y=i(92661),g=i(43487),_=i(50458),C=function(e){var n,i=e.buttonSize,t=e.buttonStyleFn,_=e.collection,C=e.post,b=e.simpleLink,E=e.susiEntry,I=void 0===E?"follow_card":E,D=e.preventParentClick,T=(0,g.v9)((function(e){return e.config.authDomain})),M=(0,k.r)().viewerId,R=(0,p.Av)(),U=(0,f.pK)(),O=(0,o.TH)(),B=(0,y.$B)(O.pathname),h=null==B||null===(n=B.route)||void 0===n?void 0:n.name,P=(0,s.gY)(_),L=P.viewerEdge,A=P.loading,V=function(e,n){var i=(0,l.D)(c.e),t=a()(i,1)[0];return d.useCallback((function(){return t({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!0}}},update:function(i){i.modify({id:"User:".concat(n),fields:{missionControl:(0,v.im)("followedCollections",!0),followingCollectionConnection:(0,v.Hc)(e.id)}})}})}),[e.id])}(_,M),x=function(e,n){var i=(0,l.D)(c.X),t=a()(i,1)[0];return d.useCallback((function(){return t({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(n),fields:{missionControl:(0,v.im)("followedCollections",!1)}})}})}),[e.id])}(_,M),z=d.useCallback((function(e){D&&e.preventDefault(),R.event("collection.followed",{collectionId:_.id,followSource:U}),V()}),[_,D,U,R]),G=d.useCallback((function(e){D&&e.preventDefault(),R.event("collection.unfollowed",{collectionId:_.id,followSource:U}),x()}),[D,U,R]),j=!(null==L||!L.isFollowing),H=t?t(!!j):j?"OBVIOUS":"STRONG";return b?d.createElement(N.r,{onClick:j?G:z},d.createElement(S.x,{display:"flex",flexDirection:"row"},j?"Unfollow publication":"Follow publication")):d.createElement(u.I,null,(function(e){return e?d.createElement(F.z,{size:i,onClick:j?G:z,buttonStyle:H,loading:A},j?"Following":"Follow"):d.createElement(r.R,{collection:_,buttonStyle:j?"OBVIOUS":"STRONG",isButton:!0,buttonSize:"REGULAR",operation:"register",actionUrl:w(T,_,C)||"",susiEntry:I,pageSource:(0,m.x)(h,"register")},j?"Following":"Follow")}))},w=function(e,n,i){return n.slug&&(i&&i.id?(0,_.TAb)(e,n.slug,i.id):(0,_.LlO)(e,n.slug))}},24857:(e,n,i)=>{"use strict";i.d(n,{w:()=>d,Z:()=>o});var t=i(319),a=i.n(t),l=i(9419),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RankedModuleMetadata_metadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RankedModuleMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"sourceEncoding"}}]}}]},o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WhoToFollowModule_rankedModule"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRankedModule"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"metadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RankedModuleMetadata_metadata"}}]}},{kind:"Field",alias:{kind:"Name",value:"entities"},name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModuleItemUser"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityFollowList_user"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModuleItemCollection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EntityFollowList_collection"}}]}}]}}]}}]}}].concat(a()(d.definitions),a()(l.S.definitions),a()(l.B.definitions))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/6241.5db4f671.chunk.js.map